/**
 * Criado por 006157C6 em 24/04/2013
 */
package br.com.devnagui.project.objetodepagina.posto.manter;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;

import br.com.devnagui.project.objetodepagina.MenuConvarObjetoDePagina;

/**
 * Criado por @author 006157C6 em 24/04/2013
 * 
 */
public class ManterPostoCombustivelObjetoDePagina extends MenuConvarObjetoDePagina {

	// ATRIBUTOS E CONSTRUTORES

	private String ID_BOTAO_ESCOLHER_POSTO = "botaoEscolherPosto";

	/**
	 * @param driver
	 * @throws Exception
	 */
	public ManterPostoCombustivelObjetoDePagina(WebDriver driver) throws Exception {
		super(driver);

	}

	@FindBy(id = "cnpjBuscaPostoInput")
	private WebElement cnpjBuscaPostoInput;

	@FindBy(id = "botaoEscolherPosto")
	private WebElement botaoEscolherPosto;

	@FindBy(xpath = "//td[@id='tabTanques:header:inactive']/span")
	private WebElement headerAbaTanque;
	@FindBy(xpath = "//td[@id='tabBombas:header:inactive']/span")
	private WebElement headerAbaBomba;
	@FindBy(xpath = "//td[@id='tabBicos:header:inactive']/span")
	private WebElement headerAbaBicos;

	// METODOS PUBLICOS

	public TanqueObjetoDePagina digitaEEscolheNaBuscaPosto(String criterioBusca) throws InterruptedException {
		cnpjBuscaPostoInput.sendKeys(criterioBusca);
		esperaRenderizarMensagemComRegex("^[\\s\\S]*" + criterioBusca + "[\\s\\S]*$");
		if (!botaoEscolherPosto.isDisplayed()) {
			driver.findElement(By.cssSelector("span.rf-au-btn-arrow")).click();
			botaoEscolherPosto = driver.findElement(By.id("botaoEscolherPosto"));
		}
		botaoEscolherPosto.click();
		return PageFactory.initElements(driver, TanqueObjetoDePagina.class);
	}

	public TanqueObjetoDePagina mudaAbaManutencaoDeTanques() throws InterruptedException {
		if (headerAbaTanque.isDisplayed())
			headerAbaTanque.click();
		esperarRenderizarElementoPorId("regionTanque");
		return PageFactory.initElements(driver, TanqueObjetoDePagina.class);
	}

	public BombaObjetoDePagina mudaAbaManutencaoDeBombas() throws InterruptedException {
		if (headerAbaBomba.isDisplayed())
			headerAbaBomba.click();
		esperarRenderizarElementoPorId("regionBomba");
		return PageFactory.initElements(driver, BombaObjetoDePagina.class);
	}

	public BicoObjetoDePagina mudaAbaManutencaoDeBicos() throws InterruptedException {
		if (headerAbaBicos.isDisplayed())
			headerAbaBicos.click();
		esperarRenderizarElementoPorId("regionBico");
		return PageFactory.initElements(driver, BicoObjetoDePagina.class);
	}

	// METODOS PRIVADOS

	// GETS E SETS
}
